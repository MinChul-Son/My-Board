# 게시판 만들기
## 사용 기술 : SpringMVC, SpringBoot, Spring Data JPA, Spring Security, Querydsl
## IDE : IntelliJ
## DB : MySQL
## Template Engine : Thyleaf
## UI : BootStrap

-----------------------------------
----------------------------------
### 6/20
* 프로젝트 생성
* 게시글 작성, DB에 저장 기능 추가

### 6/21 to-do-list
* 게시글 목록 조회 ~~예정~~ **완료**
* 게시글 리스트 UI 적용 ~~예정~~ **완료**
* 게시물 조회를 통해 조회 기능 추가 ~~예정~~ **완료**
* 게시물 삭제 기능 추가 ~~예정~~ **완료**
* 게시물 수정 기능 추가 ~~예정~~ **완료**

### 6/22 to-do-list
* 게시물 조회수 기능 추가 ~~예정~~ **완료**
* 게시물 페이징 기능 추가 ~~예정~~ **완료**
* 로그인/로그아웃, 회원가입 기능 추가 예정 **내일 이어서 진행**
  - Spring Security를 사용
  - 기본으로 제공하는 login 페이지 사용 
  - 로그인 안한 사용자는 index페이지만 접속 가능하도록 구현 **완료**
  - 각 회원이 어떤 권한을 가지는지에 대한 Role 엔티티를 추가하고 Member와 다대일로 양방향 매핑 **완료**
* Member 엔티티 추가, Post 엔티티에서 1:N 관계로 단방향 연관관계로 매핑 ~~예정~~ **완료**
  - 누가 게시물을 작성했는지를 입력하는 것이 아니라 로그인한 회원의 정보를 가지고 값을 자동으로 넣을 것이기 때문에 Member 입장에서는 Post를 알 필요가 없다고 생각하여 단방향 연관관계로 설정하였다. 추후에 만약 내 생각이 틀렸다고 판단되면 변경할 수 도 있는 부분임


### 6/23 to-do-list
* Role 엔티티 변경
  - Role을 엔티티로 정의하고 Member와 다대일 양방향 매핑을 진행하였었는데, 이를 위해서 Role Repository를 만들고 추가적인 기능추가가 너무 번거롭다고 판단하여 Role을 Enum타입으로 정의하여 사용하는 것으로 변경하였다.
  - 회원 가입시에 전부 다 USER 권한을 부여하는 것으로 설정

* 회원 가입, 로그인 기능 **완료**
  - 회원 가입 시에 패스워드를 암호화하여 DB에 저장하도록 하였다.(Spring Security)
  - 로그인 여부에 따라 홈 화면에서 나타나는 화면을 달리하도록 설정
* 로그아웃 기능 추가 ~~예정~~ **완료**
* 게시물 작성 시 세션 정보를 가지고 작성자를 자동으로 입력해주고 작성자는 변경할 수 없도록 기능 변경 ~~예정~~ **완료**
* 현재 Member와 Post는 1:N 단방향 연관관계로 Post에서만 Member를 참조하도록 매핑되어 있다. 게시물을 저장할 때 세션의 정보(id)를 가지고 Member 엔티티를 조회하고 Post 엔티티의 Member 필드로 설정해준다.
  - 이것을 바탕으로 추후에 검색기능(동적 쿼리)추가할 것
  - 세션 정보를 가지고 게시물의 회원 정보와 일치한다면? 글을 삭제할 수 있는 기능을 추가해보기(내일 ㄱㄱ)
    + 즉, 내 게시물은 나만 삭제할 수 있는것 


### 6/24 to-do-list
* 게시물을 작성한 사람만 게시물을 지울 수 있는 기능 추가 ~~예정~~ **완료**
  - BoardService에 isWriter()메서드 구현
  - 게시물 조회 시에 메서드 호출
    + 인증 정보로 조회한 회원 엔티티와 게시물의 회원 정보로 조회한 엔티티가 같다면 삭제 버튼 띄워줌. 
    + fetch join을 사용하여 게시물에서 회원 엔티티 조회
  - JUnit 테스트 코드 작성 **테스트 성공**
* Junit 테스트 코드 작성(회원 저장, 게시물 저장, 게시물에서 회원 엔티티 조회 ==> 1:N 단방향 연관관계) **테스트 성공 (커버리지 87%)** 
* 자신이 작성한 게시물 목록 조회 기능 추가 ~~예정~~ **완료**
  - @EntityGraph를 사용하여 fetch join을 통해 파라미터로 넘어온 회원 아이디와 일치하는 게시물 조회



